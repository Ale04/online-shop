<nav class="navbar navbar-expand-lg" data-bs-theme="light">
    <div class="container-fluid navbar-content">

        <a class="navbar-brand" href="#">
            <img src="assets/images/logo.png" alt="..." class="nav-logo">
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor03"
            aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor03">
            <ul class="navbar-nav me-auto">

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-haspopup="true"
                        aria-expanded="false">Categorías</a>

                    <div class="dropdown-menu nav-dropdown-menu">
                        @for (category of categories; track category) {
                        <a class="dropdown-item nav-dropdown-item" [routerLink]="['producto/categoria/', category.category_id]">{{ category.category }}</a>
                        }
                    </div>
                </li>

                @if (isAdmin) {
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                            aria-haspopup="true" aria-expanded="false">Administración
                        </a>


                        <div class="dropdown-menu">
                            <a class="dropdown-item nav-dropdown-item" href="/categoria">Categorías</a>
                            <a class="dropdown-item nav-dropdown-item" href="#">Clientes</a>
                            <a class="dropdown-item nav-dropdown-item" href="/producto">Productos</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item nav-dropdown-item" href="#">Regiones</a>
                        </div>
                    </li>
                }
            </ul>
            <form class="search">
                <span class="ph ph-magnifying-glass search-icon"></span>
                <input class="search-input" type="search" placeholder="Buscar">
                <!-- <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button> -->
            </form>

            @if (loggedIn) {
            <a class="nav-link" routerLink="#" role="button">
                <i class="ph ph-shopping-cart-simple i-cart"></i>
            </a>
            } @else {
            <ul class="navbar-nav">
               <li><a class="nav-link nav-register" (click)="showRegisterModal()">Sign up</a></li>
            </ul>
            }

        </div>
    </div>


    <ul class="navbar-nav">

        @if (loggedIn) {

        <li class="nav-item dropdown user-information">

            <a class="dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true"
                aria-expanded="false">
                <img class="img-profile rounded-circle nav-user-img" src="assets/images/user-circle.svg">
            </a>

            <div class="dropdown-menu nav-dropdown-menu nav-dropdown-menu-user">
                <a class="dropdown-item nav-dropdown-item" href="#">Account</a>
                <a class="dropdown-item nav-dropdown-item" href="#">Settings</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item nav-dropdown-item" href="#" (click)="logout()">Log out</a>
            </div>
        </li>

        } @else {

            <li><a class="nav-link" (click)="showLoginModal()">Log in</a></li>

        }
    </ul>

    <div class="modal fade" tabindex="-1" data-bs-backdrop="static" id="loginModal">
        <div class="modal-dialog modal-dialog-centered modal-md">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Log in</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <app-login></app-login>
                </div>

            </div>
        </div>
    </div>

    <div class="modal fade" tabindex="-1" data-bs-backdrop="static" id="registerModal">
        <div class="modal-dialog modal-dialog-centered modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">New user</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <app-register></app-register>
                </div>
            </div>
        </div>
    </div>




</nav>